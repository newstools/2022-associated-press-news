PHILADELPHIA (AP) — A man shot two civilians Wednesday in Philadelphia before running from police and bunkering inside a building, from which he fired at surrounding officers, striking one of them in the abdomen, authorities said.The SEPTA Transit Police officer was undergoing surgery Wednesday night and was in “critical but stable” condition, Sgt. Eric Gripp said at a news conference.Philadelphia police officers had been patrolling and heard gunshots at about 7 p.m., right before a call came in for two gunshot victims, Gripp said, adding that the women were each hit near the hip and are in stable condition.The officers then spotted a man in the area holding a handgun. He ran away and into an apartment building in the 4700 block of Leiper Street, Gripp said. An exchange of gunfire broke out and the officer was hit.Officers entered the building when SWAT equipment showed the man appeared to be unconscious near a second-floor window, Gripp said. Officers found the man dead from a gunshot wound that they determined was self-inflicted, he said.A weapon was recovered from the scene, which remained active Wednesday night, he said.Multiple police officers discharged their firearms, Gripp said.